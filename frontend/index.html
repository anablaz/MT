<!DOCTYPE html>
<html lang="sl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COVID-19 v Sloveniji | MT 2025/26</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600&display=swap" rel="stylesheet">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css" />
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section id="landing" class="landing">
        <div class="landing-content">
            <h1 class="landing-title">
                <span class="landing-accent">COVID-19</span> v Sloveniji
            </h1>
            <p class="landing-subtitle">Zanimivi vpogledi med leti 2020–2025</p>
            
            <div class="landing-stats">
                <div class="stat-card">
                    <span class="stat-number" id="stat-okuzbe">—</span>
                    <span class="stat-label">Potrjenih primerov</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="stat-cepljenja">—</span>
                    <span class="stat-label">Cepljenj</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">5 let</span>
                    <span class="stat-label">Podatkov</span>
                </div>
            </div>
            
            <p class="landing-description">
                Sedaj, ko smo že vsaj malo preboleli travme 
                lockdowna, si lahko pogledamo nekaj zanimivih podatkovnih vpogledov.
            </p>
            
            <button class="landing-cta" id="start-exploring">
                Začni raziskovati
                <span class="cta-arrow">→</span>
            </button>
            
            <div class="scroll-indicator">
                <div class="scroll-line"></div>
            </div>
        </div>
    </section>

    <header class="header" id="main-header">
        <div class="header-content">
            <h1 class="logo">
                <span class="logo-accent">COVID-19</span> v Sloveniji
            </h1>
            <p class="subtitle">Od prvih primerov do cepljenja: 2020–2025</p>
        </div>
    </header>

    <div class="filters" id="filters-section">
        <div class="filter-group">
            <label class="filter-label">Obdobje</label>
            <select id="filter-obdobje" class="filter-select">
                <option value="all">Vse</option>
                <option value="2020">2020</option>
                <option value="2021">2021</option>
                <option value="2022">2022</option>
                <option value="2023">2023</option>
            </select>
        </div>
        <div class="filter-group">
            <label class="filter-label">Prikaz po</label>
            <select id="filter-granulacija" class="filter-select">
                <option value="month">Mesecih</option>
                <option value="year">Letih</option>
                <option value="day">Dnevih</option>
            </select>
        </div>
        <button id="filter-apply" class="filter-button">Uporabi</button>
    </div>

    <nav class="tabs" id="tabs-section">
        <button class="tab active" data-tab="pandemija">
            <span class="tab-icon">◉</span>
            Pandemija v Sloveniji
        </button>
        <button class="tab" data-tab="zemljevid">
            <span class="tab-icon">⬡</span>
            Število cepljenj po regijah
        </button>
        <button class="tab" data-tab="kombinirano">
            <span class="tab-icon">◆</span>
            Gripa vs COVID
        </button>
        <button class="tab" data-tab="timeline">
            <span class="tab-icon">◷</span>
            Cepljenja po pandemiji
        </button>
    </nav>

    <main class="main" id="main-content">
        <section id="pandemija" class="tab-content active">
            <div class="card">
                <div class="card-header">
                    <h2>Pandemija v Sloveniji</h2>
                    <p class="card-description">Tedenski potrjeni primeri COVID-19 v generalni populaciji in v zdravstvenih ustanovah (2020–2023)</p>
                </div>
                <div class="chart-container">
                    <svg id="graf-pandemija"></svg>
                </div>
                <div class="legend" id="legend-pandemija"></div>
                <div class="card-insight">
                    <strong>Kaj vidimo: </strong> Okužbe med zdravstvenimi delavci močno korelirajo z okužbami v generalni populaciji.
                </div>
            </div>
        </section>

        <section id="zemljevid" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <h2>Število cepljenj po regijah</h2>
                    <p class="card-description">Klikni na regijo za podrobnosti o cepljenjih</p>
                </div>
                <div id="leaflet-map" style="height: 500px; width: 100%; border-radius: 12px;"></div>
                <div class="map-legend" id="map-legend"></div>
                <div class="region-details" id="region-details">
                    <p class="region-prompt">Klikni na regijo za prikaz podrobnosti</p>
                </div>
                <div class="card-insight">
                    <strong>Kaj vidimo:</strong> Interaktivno lahko raziskujemo razlike v precepljenosti med regijami.
                </div>
            </div>
        </section>

        <section id="kombinirano" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <h2>Primerjava: Gripa vs COVID-19</h2>
                    <p class="card-description">Število cepljenj po starostnih skupinah in vrsti cepiva</p>
                </div>
                <div class="chart-container">
                    <svg id="graf-kombinirano"></svg>
                </div>
                <div class="legend" id="legend-kombinirano"></div>
                <div class="card-insight">
                    <strong>Kaj vidimo:</strong> Otroci se zelo malo cepijo proti gripi. Najbolj precepljeni so starostniki.
                </div>
            </div>
        </section>

        <section id="timeline" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <h2>Trend cepljenj skozi čas po pandemiji</h2>
                    <p class="card-description">Trenda cepljenj proti gripi in COVID-19</p>
                </div>
                
                <!-- Filtri za timeline -->
                <div class="timeline-controls">
                    <div class="timeline-filters">
                        <div class="timeline-filter-group">
                            <label class="filter-label">Od</label>
                            <select id="timeline-od" class="filter-select">
                            </select>
                        </div>
                        <div class="timeline-filter-group">
                            <label class="filter-label">Do</label>
                            <select id="timeline-do" class="filter-select">
                            </select>
                        </div>
                        <div class="timeline-filter-group">
                            <label class="filter-label">Prikaz po</label>
                            <select id="timeline-granulacija" class="filter-select">
                                <option value="day">Dnevih</option>
                                <option value="week">Tednih</option>
                                <option value="month" selected>Mesecih</option>
                                <option value="year">Letih</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <svg id="graf-timeline"></svg>
                </div>
                <div class="legend" id="legend-timeline"></div>
                <div class="card-insight">
                    <strong>Kaj vidimo:</strong> Vrh obeh cepljenj je v jesenskih mesecih. Več cepljenj je proti gripi.
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <span class="footer-brand">MT 2025/26</span>
            <span class="footer-divider">·</span>
            <span class="footer-text">Maja Rovtar in Ana Blaž</span>
        </div>
    </footer>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js"></script>
    <script src="app.js"></script>
</body>
</html>
